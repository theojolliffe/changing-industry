import{S as q,i as S,s as j,w as E,x as M,y as T,q as g,o as w,B as U,e as B,k as C,l as p,U as N,c as O,a as P,d as y,m as R,M as z,b as D,H,g as k,O as I,p as L,n as v}from"../../chunks/vendor-29c5fe09.js";import{a as h}from"../../chunks/paths-396f020f.js";import{M as A}from"../../chunks/Module-d5099eb8.js";import"../../chunks/Share-8c99fe20.js";function b(u){let t,n;return t=new A({props:{occupations:u[6],industry:u[2],industry_all:u[4],industry_tot:u[3],template:u[5],id:u[1],section:u[0],indlang:u[7]}}),{c(){E(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,l){T(t,e,l),n=!0},p(e,l){const i={};l&64&&(i.occupations=e[6]),l&4&&(i.industry=e[2]),l&16&&(i.industry_all=e[4]),l&8&&(i.industry_tot=e[3]),l&32&&(i.template=e[5]),l&2&&(i.id=e[1]),l&1&&(i.section=e[0]),l&128&&(i.indlang=e[7]),t.$set(i)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){w(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function F(u){let t,n,e,l,i,c,d,a=u[8]&&b(u);return{c(){t=B("script"),e=C(),a&&a.c(),l=p(),this.h()},l(s){const r=N('[data-svelte="svelte-k5nz1c"]',document.head);t=O(r,"SCRIPT",{src:!0});var _=P(t);_.forEach(y),r.forEach(y),e=R(s),a&&a.l(s),l=p(),this.h()},h(){z(t.src,n="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||D(t,"src",n)},m(s,r){H(document.head,t),k(s,e,r),a&&a.m(s,r),k(s,l,r),i=!0,c||(d=I(t,"load",u[9]()),c=!0)},p(s,[r]){s[8]?a?(a.p(s,r),r&256&&g(a,1)):(a=b(s),a.c(),g(a,1),a.m(l.parentNode,l)):a&&(v(),w(a,1,1,()=>{a=null}),L())},i(s){i||(g(a),i=!0)},o(s){w(a),i=!1},d(s){y(t),s&&y(e),a&&a.d(s),s&&y(l),c=!1,d()}}}async function W({params:u,fetch:t}){let n=u.slug,e=n.split("-")[0],l=n.split("-")[1],c=await(await t(`${h}/data/industry_fake.json`)).json(),d=c.Total,a=c[e];delete c.Total;let r=await(await t(`${h}/data/template.pug`)).text(),_=await t(`${h}/data/occupations.csv`);_=await _.text();let f={};return Papa.parse(_).data.forEach(m=>{m[0]!="Occupation"&&(f[m[0]]=m[1])}),{props:{industry:a,industry_tot:d,industry_all:c,slug:n,id:e,section:l,template:r,occupations:f}}}function G(u,t,n){let{section:e}=t,{id:l}=t,{slug:i}=t,{industry:c}=t,{industry_tot:d}=t,{industry_all:a}=t,{template:s}=t,{occupations:r}=t,{indlang:_}=t,f;const m=()=>{n(8,f=!0)};return u.$$set=o=>{"section"in o&&n(0,e=o.section),"id"in o&&n(1,l=o.id),"slug"in o&&n(10,i=o.slug),"industry"in o&&n(2,c=o.industry),"industry_tot"in o&&n(3,d=o.industry_tot),"industry_all"in o&&n(4,a=o.industry_all),"template"in o&&n(5,s=o.template),"occupations"in o&&n(6,r=o.occupations),"indlang"in o&&n(7,_=o.indlang)},[e,l,c,d,a,s,r,_,f,m,i]}class X extends q{constructor(t){super();S(this,t,G,F,j,{section:0,id:1,slug:10,industry:2,industry_tot:3,industry_all:4,template:5,occupations:6,indlang:7})}}export{X as default,W as load};
