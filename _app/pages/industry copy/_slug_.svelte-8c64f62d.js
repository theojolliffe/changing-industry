import{S as b,i as q,s as S,w as j,x as E,y as M,q as y,o as p,B as T,e as U,k as B,l as h,U as C,c as N,a as O,d,m as P,M as R,b as v,H as z,g as w,O as D,p as H,n as I}from"../../chunks/vendor-29c5fe09.js";import{a as g}from"../../chunks/paths-396f020f.js";import{M as L}from"../../chunks/Module-ac8ad913.js";import"../../chunks/Share-8c99fe20.js";function k(u){let t,s;return t=new L({props:{occupations:u[6],industry:u[2],industry_all:u[4],industry_tot:u[3],template:u[5],id:u[1],section:u[0]}}),{c(){j(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){M(t,e,n),s=!0},p(e,n){const o={};n&64&&(o.occupations=e[6]),n&4&&(o.industry=e[2]),n&16&&(o.industry_all=e[4]),n&8&&(o.industry_tot=e[3]),n&32&&(o.template=e[5]),n&2&&(o.id=e[1]),n&1&&(o.section=e[0]),t.$set(o)},i(e){s||(y(t.$$.fragment,e),s=!0)},o(e){p(t.$$.fragment,e),s=!1},d(e){T(t,e)}}}function A(u){let t,s,e,n,o,c,f,a=u[7]&&k(u);return{c(){t=U("script"),e=B(),a&&a.c(),n=h(),this.h()},l(l){const r=C('[data-svelte="svelte-k5nz1c"]',document.head);t=N(r,"SCRIPT",{src:!0});var _=O(t);_.forEach(d),r.forEach(d),e=P(l),a&&a.l(l),n=h(),this.h()},h(){R(t.src,s="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||v(t,"src",s)},m(l,r){z(document.head,t),w(l,e,r),a&&a.m(l,r),w(l,n,r),o=!0,c||(f=D(t,"load",u[8]()),c=!0)},p(l,[r]){l[7]?a?(a.p(l,r),r&128&&y(a,1)):(a=k(l),a.c(),y(a,1),a.m(n.parentNode,n)):a&&(I(),p(a,1,1,()=>{a=null}),H())},i(l){o||(y(a),o=!0)},o(l){p(a),o=!1},d(l){d(t),l&&d(e),a&&a.d(l),l&&d(n),c=!1,f()}}}async function V({params:u,fetch:t}){let s=u.slug,e=s.split("-")[0],n=s.split("-")[1],c=await(await t(`${g}/data/industry_fake.json`)).json(),f=c.Total,a=c[e];delete c.Total;let r=await(await t(`${g}/data/template.pug`)).text(),_=await t(`${g}/data/occupations.csv`);_=await _.text();let m={};return Papa.parse(_).data.forEach(i=>{i[0]!="Occupation"&&(m[i[0]]=i[1])}),{props:{industry:a,industry_tot:f,industry_all:c,slug:s,id:e,section:n,template:r,occupations:m}}}function F(u,t,s){let{section:e}=t,{id:n}=t,{slug:o}=t,{industry:c}=t,{industry_tot:f}=t,{industry_all:a}=t,{template:l}=t,{occupations:r}=t,_;const m=()=>{s(7,_=!0)};return u.$$set=i=>{"section"in i&&s(0,e=i.section),"id"in i&&s(1,n=i.id),"slug"in i&&s(9,o=i.slug),"industry"in i&&s(2,c=i.industry),"industry_tot"in i&&s(3,f=i.industry_tot),"industry_all"in i&&s(4,a=i.industry_all),"template"in i&&s(5,l=i.template),"occupations"in i&&s(6,r=i.occupations)},[e,n,c,f,a,l,r,_,m,o]}class W extends b{constructor(t){super();q(this,t,F,A,S,{section:0,id:1,slug:9,industry:2,industry_tot:3,industry_all:4,template:5,occupations:6})}}export{W as default,V as load};
