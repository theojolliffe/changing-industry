import{S as q,i as S,s as E,w as M,x as T,y as U,q as w,o as p,B,e as C,k as N,l as k,U as O,c as P,a as R,d as m,m as z,M as D,b as H,H as I,g as j,O as L,p as v,n as A}from"../../chunks/vendor-29c5fe09.js";import{a as y}from"../../chunks/paths-396f020f.js";import{M as F}from"../../chunks/Module-5036b497.js";import"../../chunks/Share-e1d8820e.js";function b(o){let t,n;return t=new F({props:{occupations:o[6],industry:o[2],industry_all:o[4],industry_tot:o[3],template:o[5],id:o[1],section:o[0],indlang:o[7]}}),{c(){M(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){U(t,e,l),n=!0},p(e,l){const u={};l&64&&(u.occupations=e[6]),l&4&&(u.industry=e[2]),l&16&&(u.industry_all=e[4]),l&8&&(u.industry_tot=e[3]),l&32&&(u.template=e[5]),l&2&&(u.id=e[1]),l&1&&(u.section=e[0]),l&128&&(u.indlang=e[7]),t.$set(u)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function G(o){let t,n,e,l,u,_,c,a=o[8]&&o[7]&&b(o);return{c(){t=C("script"),e=N(),a&&a.c(),l=k(),this.h()},l(i){const r=O('[data-svelte="svelte-k5nz1c"]',document.head);t=P(r,"SCRIPT",{src:!0});var d=R(t);d.forEach(m),r.forEach(m),e=z(i),a&&a.l(i),l=k(),this.h()},h(){D(t.src,n="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||H(t,"src",n)},m(i,r){I(document.head,t),j(i,e,r),a&&a.m(i,r),j(i,l,r),u=!0,_||(c=L(t,"load",o[9]()),_=!0)},p(i,[r]){i[8]&&i[7]?a?(a.p(i,r),r&384&&w(a,1)):(a=b(i),a.c(),w(a,1),a.m(l.parentNode,l)):a&&(A(),p(a,1,1,()=>{a=null}),v())},i(i){u||(w(a),u=!0)},o(i){p(a),u=!1},d(i){m(t),i&&m(e),a&&a.d(i),i&&m(l),_=!1,c()}}}async function X({params:o,fetch:t}){let n=o.slug,e=n.split("-")[0],l=n.split("-")[1],_=await(await t(`${y}/data/industrywords.json`)).json(),a=await(await t(`${y}/data/industry_fake.json`)).json(),i=a.Total,r=a[e];delete a.Total;let g=await(await t(`${y}/data/template.pug`)).text(),f=await t(`${y}/data/occupations.csv`);f=await f.text();let s={};return Papa.parse(f).data.forEach(h=>{h[0]!="Occupation"&&(s[h[0]]=h[1])}),{props:{industry:r,industry_tot:i,industry_all:a,slug:n,id:e,section:l,template:g,occupations:s,indlang:_}}}function J(o,t,n){let{section:e}=t,{id:l}=t,{slug:u}=t,{industry:_}=t,{industry_tot:c}=t,{industry_all:a}=t,{template:i}=t,{occupations:r}=t,{indlang:d}=t;console.log("- indlang");let g;const f=()=>{n(8,g=!0)};return o.$$set=s=>{"section"in s&&n(0,e=s.section),"id"in s&&n(1,l=s.id),"slug"in s&&n(10,u=s.slug),"industry"in s&&n(2,_=s.industry),"industry_tot"in s&&n(3,c=s.industry_tot),"industry_all"in s&&n(4,a=s.industry_all),"template"in s&&n(5,i=s.template),"occupations"in s&&n(6,r=s.occupations),"indlang"in s&&n(7,d=s.indlang)},[e,l,_,c,a,i,r,d,g,f,u]}class Y extends q{constructor(t){super();S(this,t,J,G,E,{section:0,id:1,slug:10,industry:2,industry_tot:3,industry_all:4,template:5,occupations:6,indlang:7})}}export{Y as default,X as load};
