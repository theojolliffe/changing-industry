import{X as j,S as q,i as S,s as E,w as T,x as U,y as B,q as g,o as p,B as C,e as J,k as N,l as w,U as O,c as P,a as R,d as y,m as v,M as z,b as D,H,g as b,O as I,p as L,n as M}from"../../chunks/vendor-29c5fe09.js";import{a as h}from"../../chunks/paths-396f020f.js";import{J as X}from"../../chunks/Jobs-9c4080a1.js";import"../../chunks/Share-667ad167.js";function k(o){let t,n;return t=new X({props:{occupations:o[6],industry:o[2],industry_all:o[4],industry_tot:o[3],template:o[5],id:o[1],section:o[0],domain:o[7]}}),{c(){T(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,s){B(t,e,s),n=!0},p(e,s){const l={};s&64&&(l.occupations=e[6]),s&4&&(l.industry=e[2]),s&16&&(l.industry_all=e[4]),s&8&&(l.industry_tot=e[3]),s&32&&(l.template=e[5]),s&2&&(l.id=e[1]),s&1&&(l.section=e[0]),s&128&&(l.domain=e[7]),t.$set(l)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){C(t,e)}}}function A(o){let t,n,e,s,l,c,f,a=o[8]&&k(o);return{c(){t=J("script"),e=N(),a&&a.c(),s=w(),this.h()},l(i){const r=O('[data-svelte="svelte-k5nz1c"]',document.head);t=P(r,"SCRIPT",{src:!0});var _=R(t);_.forEach(y),r.forEach(y),e=v(i),a&&a.l(i),s=w(),this.h()},h(){z(t.src,n="https://unpkg.com/rosaenlg@3.0.1/dist/rollup/rosaenlg_tiny_en_US_3.0.1_comp.js")||D(t,"src",n)},m(i,r){H(document.head,t),b(i,e,r),a&&a.m(i,r),b(i,s,r),l=!0,c||(f=I(t,"load",o[9]()),c=!0)},p(i,[r]){i[8]?a?(a.p(i,r),r&256&&g(a,1)):(a=k(i),a.c(),g(a,1),a.m(s.parentNode,s)):a&&(M(),p(a,1,1,()=>{a=null}),L())},i(i){l||(g(a),l=!0)},o(i){p(a),l=!1},d(i){y(t),i&&y(e),a&&a.d(i),i&&y(s),c=!1,f()}}}async function W({params:o,fetch:t}){let n=o.occ,e=n.split("-")[0],s=n.split("-")[1],c=await(await t(`${h}/data/industry_fake.json`)).json(),f=c.Total,a=c[e];delete c.Total;let r=await(await t(`${h}/data/template.pug`)).text(),_=await t(`${h}/data/occupations.csv`);_=await _.text();let d={};return j.parse(_).data.forEach(m=>{m[0]!="Occupation"&&(d[m[0]]=m[1])}),{props:{industry:a,industry_tot:f,industry_all:c,slug:n,id:e,section:s,template:r,occupations:d}}}function F(o,t,n){let{section:e}=t,{id:s}=t,{slug:l}=t,{industry:c}=t,{industry_tot:f}=t,{industry_all:a}=t,{template:i}=t,{occupations:r}=t;console.log("id",s);let _;_="https://theojolliffe.github.io/changing-industry";let d;const m=()=>{n(8,d=!0)};return o.$$set=u=>{"section"in u&&n(0,e=u.section),"id"in u&&n(1,s=u.id),"slug"in u&&n(10,l=u.slug),"industry"in u&&n(2,c=u.industry),"industry_tot"in u&&n(3,f=u.industry_tot),"industry_all"in u&&n(4,a=u.industry_all),"template"in u&&n(5,i=u.template),"occupations"in u&&n(6,r=u.occupations)},[e,s,c,f,a,i,r,_,d,m,l]}class Y extends q{constructor(t){super();S(this,t,F,A,E,{section:0,id:1,slug:10,industry:2,industry_tot:3,industry_all:4,template:5,occupations:6})}}export{Y as default,W as load};
